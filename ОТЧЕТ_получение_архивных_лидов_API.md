# –û—Ç—á–µ—Ç: –ü–æ–ª—É—á–µ–Ω–∏–µ –∞—Ä—Ö–∏–≤–Ω—ã—Ö –ª–∏–¥–æ–≤ –∏–∑ –ê–ª—å—Ñ–∞ –°–†–ú —á–µ—Ä–µ–∑ API

**–î–∞—Ç–∞:** 2025-10-28
**–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–µ–Ω–∏—è –ª–∏–¥–æ–≤ –∏–∑ –∞—Ä—Ö–∏–≤–∞ —á–µ—Ä–µ–∑ AlfaCRM API
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ï–®–ï–ù–ò–ï –ù–ê–ô–î–ï–ù–û

---

## üéØ –í–æ–ø—Ä–æ—Å –∫–ª–∏–µ–Ω—Ç–∞

> "–ü–æ—Å—Ç—É—á–∏ —á–µ—Ä–µ–∑ –∞–ø–∏ –≤ –ê–ª—å—Ñ–∞ –°–†–ú –∏ –ø–æ—Å–º–æ—Ç—Ä–∏ –º—ã –º–æ–∂–µ–º –∑–∞–±–∏—Ä–∞—Ç—å –≤—Å–µ—Ö –ª–∏–¥–æ–≤ –∏–º–µ–Ω–Ω–æ –∏–∑ –∞—Ä—Ö–∏–≤–∞?"

---

## ‚úÖ –ö–†–ê–¢–ö–ò–ô –û–¢–í–ï–¢

**–î–ê, –ú–´ –ú–û–ñ–ï–ú –ü–û–õ–£–ß–ê–¢–¨ –ê–†–•–ò–í–ù–´–ï –õ–ò–î–´ –ù–ê–ü–†–Ø–ú–£–Æ –ß–ï–†–ï–ó API!**

–ú–µ—Ç–æ–¥: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `lead_status_id: 39` –≤ –∑–∞–ø—Ä–æ—Å–µ –∫ `/v2api/customer/index`

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –†–∞–±–æ—Ç–∞–µ—Ç? | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|----------|-----------|-----------|
| `lead_status_id: 39` | ‚úÖ –î–ê | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¢–û–õ–¨–ö–û –∞—Ä—Ö–∏–≤–Ω—ã–µ –ª–∏–¥—ã |
| `lead_status_ids: [39]` | ‚ùå –ù–ï–¢ | –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ—Ö |
| `status: "archived"` | ‚ùå –ù–ï–¢ | –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ—Ö |
| –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è | ‚úÖ –î–ê | –í—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ fallback |

### –¢–µ—Å—Ç 2: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∞—Ä—Ö–∏–≤–Ω—ã—Ö –ª–∏–¥–æ–≤

```
–†–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø—Ä–æ—Å–∞ —Å lead_status_id=39:
‚úì –ü–æ–ª—É—á–µ–Ω–æ: 50 –∞—Ä—Ö–∏–≤–Ω—ã—Ö –ª–∏–¥–æ–≤
‚úì –í—Å–µ–≥–æ –∞—Ä—Ö–∏–≤–Ω—ã—Ö –≤ —Å–∏—Å—Ç–µ–º–µ: 50
‚úì –í—Å–µ –ª–∏–¥—ã –∏–º–µ—é—Ç lead_status_id=39
```

**–ü—Ä–∏–º–µ—Ä—ã –∞—Ä—Ö–∏–≤–Ω—ã—Ö –ª–∏–¥–æ–≤:**
- ID: 23813, –ò–º—è: –ñ–∏–ªi–Ω–∞ –ì–∞–ª–∏–Ω–∞, –¢–µ–ª–µ—Ñ–æ–Ω: +380(93)744-56-52
- ID: 25552, –ò–º—è: –ñ–º—É—Ä–µ–Ω–∫–æ –ï–ª—ñ–Ω–∞, –¢–µ–ª–µ—Ñ–æ–Ω: +380(99)238-03-61
- ID: 28371, –ò–º—è: –ó–∞—è—Ü—å –í–æ–ª–æ–¥–∏–º–∏—Ä, –¢–µ–ª–µ—Ñ–æ–Ω: +380(97)413-78-43

---

## üîç –í–ê–ñ–ù–û–ï –û–¢–ö–†–´–¢–ò–ï: custom_ads_comp

### –ß—Ç–æ –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏:

1. **custom_ads_comp –ù–ï —è–≤–ª—è–µ—Ç—Å—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º –∞—Ä—Ö–∏–≤–∞!**
   - –í —Å—Ç–∞—Ä–æ–º –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏ (–ò–°–°–õ–ï–î–û–í–ê–ù–ò–ï_Archive_–¶–ê_–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è.md) –±—ã–ª–æ —Å–∫–∞–∑–∞–Ω–æ —á—Ç–æ –∞—Ä—Ö–∏–≤ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `custom_ads_comp == '–∞—Ä—Ö—ñ–≤'`
   - –ù–û –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –∏–∑ 50 –∞—Ä—Ö–∏–≤–Ω—ã—Ö –ª–∏–¥–æ–≤ (lead_status_id=39):
     - 0 –ª–∏–¥–æ–≤ –∏–º–µ—é—Ç custom_ads_comp='–∞—Ä—Ö—ñ–≤'
     - 50 –ª–∏–¥–æ–≤ –∏–º–µ—é—Ç custom_ads_comp —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∫–∞–º–ø–∞–Ω–∏–∏

2. **custom_ads_comp —Ö—Ä–∞–Ω–∏—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏ Facebook:**
   ```
   –ü—Ä–∏–º–µ—Ä—ã –∑–Ω–∞—á–µ–Ω–∏–π:
   - "Shkolnik_GERM_30.07_2"
   - "Shkolnik_UKR_23.07"
   - "Student/–ê–Ω–∞—Ç–æ–ª—ñ–π/–õ–§/–£–∫—Ä–∞—ó–Ω–∞,30-55,–ñ,Advantage+/23.09.2025"
   ```

3. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞—Ä—Ö–∏–≤–∞:**
   ```python
   # ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - –ø–æ lead_status_id
   is_archived = (lead.get("lead_status_id") == 39)

   # ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - –ø–æ custom_ads_comp (–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!)
   is_archived = (lead.get("custom_ads_comp") == "–∞—Ä—Ö—ñ–≤")
   ```

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –°–µ—Ä–≤–µ—Ä–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ü–æ–ª—É—á–∞–µ–º —Ç–æ–ª—å–∫–æ –∞—Ä—Ö–∏–≤–Ω—ã–µ –ª–∏–¥—ã
- ‚úÖ –≠–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞ (–Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ–º –≤—Å–µ—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤)
- ‚úÖ –ë—ã—Å—Ç—Ä–µ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏

**–ö–æ–¥ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**

```python
# app/connectors/crm.py

@retry(
    stop=stop_after_attempt(CRM_MAX_RETRIES),
    wait=wait_exponential(multiplier=1, min=1, max=10),
    retry=retry_if_exception_type((requests.exceptions.Timeout, requests.exceptions.ConnectionError)),
    before_sleep=before_sleep_log(logger, logging.WARNING)
)
def alfacrm_list_archive_students(page: int = 1, page_size: int = 200) -> Dict[str, Any]:
    """
    –ü–æ–ª—É—á–∏—Ç—å –¢–û–õ–¨–ö–û –∞—Ä—Ö–∏–≤–Ω—ã–µ —Å—Ç—É–¥–µ–Ω—Ç—ã –∏–∑ AlfaCRM.

    –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–∏–ª—å—Ç—Ä lead_status_id=39 –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –∞—Ä—Ö–∏–≤–Ω—ã—Ö –ª–∏–¥–æ–≤.

    Args:
        page: –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–Ω–∞—á–∏–Ω–∞—è —Å 1)
        page_size: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É (–º–∞–∫—Å 200)

    Returns:
        {
            "items": [...],  # –°–ø–∏—Å–æ–∫ –∞—Ä—Ö–∏–≤–Ω—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
            "count": N       # –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä—Ö–∏–≤–Ω—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
        }
    """
    token = alfacrm_auth_get_token()
    base_url = os.getenv("ALFACRM_BASE_URL")
    company_id = os.getenv("ALFACRM_COMPANY_ID")

    if not company_id:
        raise RuntimeError("ALFACRM_COMPANY_ID is not set")

    url = base_url.rstrip('/') + "/v2api/customer/index"
    payload = {
        "branch_ids": [int(company_id)],
        "page": page,
        "page_size": page_size,
        "lead_status_id": 39  # –§–∏–ª—å—Ç—Ä –¥–ª—è –∞—Ä—Ö–∏–≤–Ω—ã—Ö –ª–∏–¥–æ–≤
    }

    try:
        resp = requests.post(
            url,
            headers={"X-ALFACRM-TOKEN": token},
            json=payload,
            timeout=CRM_TIMEOUT
        )
        resp.raise_for_status()
        return resp.json()
    except Exception as e:
        logger.error(f"AlfaCRM list archive students failed: {type(e).__name__}: {e}")
        raise
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```python
# –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∞—Ä—Ö–∏–≤–Ω—ã–µ –ª–∏–¥—ã
all_archive_leads = []
page = 1

while True:
    response = alfacrm_list_archive_students(page=page, page_size=200)
    items = response.get("items", [])

    if not items:
        break

    all_archive_leads.extend(items)

    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å—Ç—å –ª–∏ –µ—â–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    total = response.get("count", 0)
    if len(all_archive_leads) >= total:
        break

    page += 1

print(f"–ó–∞–≥—Ä—É–∂–µ–Ω–æ {len(all_archive_leads)} –∞—Ä—Ö–∏–≤–Ω—ã—Ö –ª–∏–¥–æ–≤")
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è (—Ç–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥)

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ï—Å–ª–∏ –Ω—É–∂–Ω—ã –í–°–ï —Å—Ç—É–¥–µ–Ω—Ç—ã –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ü–µ–ª–µ–π
- –ö–∞–∫ fallback –µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ö–æ–¥ (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω):**

```python
# app/services/alfacrm_tracking.py (—Å—Ç—Ä–æ–∫–∞ 324)

# –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
all_students = alfacrm_list_students(page=1, page_size=500)
students = all_students.get("items", [])

# –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –∞—Ä—Ö–∏–≤–Ω—ã–µ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞
archive_leads = [
    student for student in students
    if student.get("lead_status_id") == 39  # ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!
]

# –ù–ï –ò–°–ü–û–õ–¨–ó–£–ô–¢–ï custom_ads_comp –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∞—Ä—Ö–∏–≤–∞!
# archive_leads = [s for s in students if s.get("custom_ads_comp") == "–∞—Ä—Ö—ñ–≤"]  # ‚ùå –ù–ï –†–ê–ë–û–¢–ê–ï–¢
```

---

## üîß –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### 1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –∞—Ä—Ö–∏–≤–∞ –≤ alfacrm_tracking.py

**–¢–µ–∫—É—â–∏–π –∫–æ–¥ (—Å—Ç—Ä–æ–∫–∞ 324):**
```python
# –ü–†–û–í–ï–†–ö–ê –ù–ê –ê–†–•–ò–í: –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º custom_ads_comp
custom_ads_comp = student.get("custom_ads_comp", "")
if custom_ads_comp == "–∞—Ä—Ö—ñ–≤":
    archived_count += 1
    # ...
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥:**
```python
# –ü–†–û–í–ï–†–ö–ê –ù–ê –ê–†–•–ò–í: –ü–æ lead_status_id
lead_status_id = student.get("lead_status_id")
if lead_status_id == 39:  # –ê—Ä—Ö–∏–≤–Ω—ã–π —Å—Ç–∞—Ç—É—Å
    archived_count += 1
    # ...
```

### 2. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é –≤ crm.py

–î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `alfacrm_list_archive_students()` –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤—ã—à–µ.

### 3. –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

–û–±–Ω–æ–≤–∏—Ç—å –ò–°–°–õ–ï–î–û–í–ê–ù–ò–ï_Archive_–¶–ê_–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è.md —Å –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:
- custom_ads_comp —Ö—Ä–∞–Ω–∏—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏, –∞ –ù–ï —Å—Ç–∞—Ç—É—Å –∞—Ä—Ö–∏–≤–∞
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞—Ä—Ö–∏–≤–∞ - –ø–æ lead_status_id=39

---

## üìã –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –°–µ—Ä–≤–µ—Ä–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è | –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è |
|----------|---------------------|----------------------|
| **–°–∫–æ—Ä–æ—Å—Ç—å** | ‚ö° –ë—ã—Å—Ç—Ä–æ (—Ç–æ–ª—å–∫–æ –∞—Ä—Ö–∏–≤) | üêå –ú–µ–¥–ª–µ–Ω–Ω–æ (–≤—Å–µ —Å—Ç—É–¥–µ–Ω—Ç—ã) |
| **–¢—Ä–∞—Ñ–∏–∫** | üíö –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π | üî¥ –í–µ—Å—å —Å–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ |
| **–ü—Ä–æ—Å—Ç–æ—Ç–∞** | üòä –ü—Ä–æ—Å—Ç–∞—è | üòä –ü—Ä–æ—Å—Ç–∞—è |
| **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | ‚úÖ –í—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç |
| **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** | ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è | ‚ö†Ô∏è –ù—É–∂–Ω–∞ –¥–ª—è –≤—Å–µ—Ö |

---

## üéì –í—ã–≤–æ–¥—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ß—Ç–æ —É–∑–Ω–∞–ª–∏:

1. ‚úÖ **–ú–æ–∂–µ–º –ø–æ–ª—É—á–∞—Ç—å –∞—Ä—Ö–∏–≤–Ω—ã–µ –ª–∏–¥—ã –Ω–∞–ø—Ä—è–º—É—é** —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä `lead_status_id: 39`
2. ‚úÖ **API –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é** –ø–æ lead_status_id
3. ‚ö†Ô∏è **custom_ads_comp –ù–ï –¥–ª—è –∞—Ä—Ö–∏–≤–∞** - —ç—Ç–æ –ø–æ–ª–µ –¥–ª—è –Ω–∞–∑–≤–∞–Ω–∏—è –∫–∞–º–ø–∞–Ω–∏–∏ Facebook
4. ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–±** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `lead_status_id == 39`

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. **–í–Ω–µ–¥—Ä–∏—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—É—é —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é** - –¥–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `alfacrm_list_archive_students()`
2. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–π –∫–æ–¥** - –∑–∞–º–µ–Ω–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É `custom_ads_comp == "–∞—Ä—Ö—ñ–≤"` –Ω–∞ `lead_status_id == 39`
3. **–û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** - –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ custom_ads_comp
4. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é** - –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –∞—Ä—Ö–∏–≤–Ω—ã—Ö –ª–∏–¥–æ–≤

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:

**üî¥ –í–´–°–û–ö–ò–ô** - –¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ –≤ alfacrm_tracking.py:324 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ù–ï–ü–†–ê–í–ò–õ–¨–ù–´–ô –º–µ—Ç–æ–¥ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (custom_ads_comp). –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Ç–æ–º—É —á—Ç–æ –∞—Ä—Ö–∏–≤–Ω—ã–µ –ª–∏–¥—ã –Ω–µ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è!

---

## üìÇ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

1. **test_archive_api_filtering.py** - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
2. **test_get_only_archive_leads.py** - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∞—Ä—Ö–∏–≤–Ω—ã—Ö –ª–∏–¥–æ–≤
3. **test_archive_status.py** - –£–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ç–µ—Å—Ç (—É—Å—Ç–∞—Ä–µ–≤—à–∏–π –ø–æ–¥—Ö–æ–¥)

**–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:**
```bash
cd D:\Automation\Development\projects\ecademy
python test_archive_api_filtering.py
python test_get_only_archive_leads.py
```

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `–ò–°–°–õ–ï–î–û–í–ê–ù–ò–ï_Archive_–¶–ê_–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è.md` - –ü—Ä–µ–¥—ã–¥—É—â–µ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ (—Ç—Ä–µ–±—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
- `BUSINESS_LOGIC.md` - –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `app/services/alfacrm_tracking.py` - –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —Ç—Ä–µ–∫–∏–Ω–≥–∞ (—Ç—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
- `app/connectors/crm.py` - –ö–æ–Ω–Ω–µ–∫—Ç–æ—Ä AlfaCRM (–¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é)

---

**–ê–≤—Ç–æ—Ä –æ—Ç—á–µ—Ç–∞:** Claude Code Assistant
**–î–∞—Ç–∞:** 2025-10-28
